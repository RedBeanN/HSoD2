(function(){"use strict";var t={9223:function(t,e,i){var s=i(5471),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("IllustrateHeader",{on:{"select-tab":t.selectTab,search:t.search}}),e("IllustrateView",{attrs:{equips:t.displayEquips},on:{showEquipDetail:t.showEquipDetail}}),e("IllustrateDetail",{attrs:{equip:t.detailEquip},on:{"update-dialog":t.updateDialog,share:t.shareEquip}}),e("IllustrateFab",{on:{"show-character-dialog":t.showCharacterDialog,"show-filter-dialog":t.showFilterDialog,"show-data-setting-dialog":t.showDataSettingDialog}}),e("DialogCharacter",{attrs:{pets:t.allPets}}),e("DialogFilter",{attrs:{equips:t.allEquips,dialog:t.filterDialog}}),e("IllustrateShare",{attrs:{equip:t.detailEquip,currentServerName:t.currentServerName}}),e("IllustrateDataSetting",{attrs:{currentServer:t.currentServer,dialog:t.dataSettingDialog,showSpecial:t.showSpecial},on:{"change-show-special":t.changeShowSpecial,"change-server":t.changeServer}})],1)},r=[],l=(i(4114),i(8992),i(4520),i(3949),JSON.parse('{"illustrateTitle":{"jp":"装備図鑑","en":"Equip booklet","cn":"装备图鉴","default":"装备图鉴"},"徒手":{"jp":"徒手","en":"fist","cn":"徒手","default":"徒手"},"手枪-速射":{"jp":"拳銃･速射","en":"Pistol","cn":"手枪-速射","default":"手枪-速射"},"霰弹-多头":{"jp":"散弾銃･多発","en":"Spread shotgun","cn":"霰弹-多头","default":"霰弹-多头"},"近战-刀剑":{"jp":"近接･剣/刀","en":"Melee-sword/blade","cn":"近战-刀剑","default":"近战-刀剑"},"自动步枪":{"jp":"自動ライフル","en":"Auto rifle","cn":"自动步枪","default":"自动步枪"},"狙击枪":{"jp":"狙撃銃","en":"Sniper rifle","cn":"狙击枪","default":"狙击枪"},"投掷":{"jp":"投擲","en":"Thrown weapon","cn":"投掷","default":"投掷"},"放置-地雷":{"jp":"設置･地雷","en":"Deploy-mine","cn":"放置-地雷","default":"放置-地雷"},"单兵火箭":{"jp":"ロケット砲","en":"Rocket launcher","cn":"单兵火箭","default":"单兵火箭"},"喷雾":{"jp":"スプレー","en":"Spray","cn":"喷雾","default":"喷雾"},"手枪-手炮":{"jp":"拳銃･単発","en":"Hand-cannon","cn":"手枪-手炮","default":"手枪-手炮"},"近战-电锯":{"jp":"近接･鎖鋸","en":"Melee-electric saw","cn":"近战-电锯","default":"近战-电锯"},"放置-炮台":{"jp":"設置･砲台","en":"Deploy-battery","cn":"放置-炮台","default":"放置-炮台"},"霰弹-独头":{"jp":"散弾銃･単発","en":"Single shotgun","cn":"霰弹-独头","default":"霰弹-独头"},"放置-诱导":{"jp":"設置･誘導人形","en":"Deploy-trap dolly","cn":"放置-诱导","default":"放置-诱导"},"特殊":{"jp":"特殊","en":"Special","cn":"特殊","default":"特殊"},"放置-远古兵器":{"jp":"設置･古代兵器","en":"Deploy-ancient weapon","cn":"放置-远古兵器","default":"放置-远古兵器"},"放置-人形":{"jp":"設置･人形","en":"Deploy-dolly","cn":"放置-人形","default":"放置-人形"},"放置-特殊":{"jp":"設置･特殊","en":"Deploy-special","cn":"放置-特殊","default":"放置-特殊"},"喷雾-激活":{"jp":"起動型スプレー","en":"Activate","cn":"喷雾-激活","default":"喷雾-激活"},"喷雾-附魔":{"jp":"強化型スプレー","en":"Enchant","cn":"喷雾-附魔","default":"喷雾-附魔"},"喷雾-切换":{"jp":"切换型スプレー","en":"Switch","cn":"喷雾-切换","default":"喷雾-切换"},"服装":{"jp":"服装","en":"Uniform","cn":"服装","default":"服装"},"徽章":{"jp":"勲章","en":"Badge","cn":"徽章","default":"徽章"},"显示细节":{"jp":"顯示細節","en":"show detail","cn":"显示细节","default":"显示细节"},"数据仅供参考 , 请以正式服数据为准":{},"equipFilter":{"jp":"装備検索","en":"Equip Filter","cn":"装备筛选","default":"装备筛选"},"series":{"jp":"シリーズ","en":"Series","cn":"神系","default":"神系"},"types":{"jp":"タイプ","en":"Types","cn":"类型","default":"类型"},"selectAll":{"jp":"全选","en":"Select All","cn":"全选","default":"全选"},"invertSelection":{"jp":"反选","en":"Invert","cn":"反选","default":"反选"},"noEligibleEquip":{"jp":" ","en":"No eligible equip. Try choose less option.","cn":"没有符合条件的装备 , 请重新选择条件","default":"没有符合条件的装备 , 请重新选择条件"},"注: 选择的项目过多可能导致卡顿问题":{"jp":" ","en":"Choose too may options may make the page stuck.","cn":"注: 选择的项目过多可能导致卡顿问题","default":"注: 选择的项目过多可能导致卡顿问题"},"forReferenceOnly":{"jp":" ","en":"For Reference Only.","cn":"仅供参考 , 请以游戏为准","default":""},"clickIconForDetail":{"jp":" ","en":"Click equip icon for detail","cn":"点击装备图标可以查看详情","default":"点击装备图标可以查看详情"},"close":{"jp":"Close","en":"Close","cn":"关闭","default":"关闭"},"decomposeable":{"jp":"装備分解可能","en":"This equip can be dismantled","cn":"该装备可拆解","default":"该装备可拆解"},"decomposeabless":{"jp":"装備分解不可能","en":"This equip cannot be dismantled","cn":"该装备是地图装","default":"该装备是地图装"},"template":{"jp":"","en":"","cn":"","default":""}}')),n=JSON.parse('{"傲娇":{"jp":"ツンデレ","en":"Tsundere","cn":"傲娇"},"元气":{"jp":"元気","en":"SAP","cn":"元气"},"偶像":{"jp":"アイドル","en":"Idol","cn":"偶像"},"隐秘":{"jp":"隠密","en":"Hidden","cn":"隐秘"},"重击":{"jp":"重撃","en":"CritHit","cn":"重击"},"咒文":{"jp":"呪文","en":"Summoner","cn":"咒文"},"爆裂":{"jp":"爆裂","en":"Explosive","cn":"爆裂"},"装甲":{"jp":"装甲","en":"Mecha","cn":"装甲"},"概念":{"jp":"概念","en":"Innovate","cn":"概念"},"妖血":{"jp":"妖血","en":"DemonBlood","cn":"妖血"},"幻影":{"jp":"幻影","en":"Phantom","cn":"幻影"},"狂气":{"jp":"狂気","en":"Insane","cn":"狂气"},"裁决":{"jp":"裁決","en":"Judge","cn":"裁决"}}'),c=JSON.parse('{"default":["手枪-速射","霰弹-多头","近战-刀剑","自动步枪","狙击枪","投掷","放置-地雷","单兵火箭","喷雾","手枪-手炮","近战-电锯","放置-炮台","霰弹-独头","放置-诱导","特殊","特殊-弓","放置-远古兵器","放置-人形","放置-特殊","喷雾-激活","喷雾-附魔","喷雾-切换","服装","徽章"],"cn":["手枪-速射","霰弹-多头","近战-刀剑","自动步枪","狙击枪","投掷","放置-地雷","单兵火箭","喷雾","手枪-手炮","近战-电锯","放置-炮台","霰弹-独头","放置-诱导","特殊","特殊-弓","放置-远古兵器","放置-人形","放置-特殊","喷雾-激活","喷雾-附魔","喷雾-切换","服装","徽章"],"jp":["手枪-速射","霰弹-多头","近战-刀剑","自动步枪","狙击枪","投掷","放置-地雷","单兵火箭","喷雾","手枪-手炮","近战-电锯","放置-炮台","霰弹-独头","放置-诱导","特殊","特殊-弓","放置-远古兵器","放置-人形","放置-特殊","喷雾-激活","喷雾-附魔","喷雾-切换","服装","徽章"],"en":["手枪-速射","霰弹-多头","近战-刀剑","自动步枪","狙击枪","投掷","放置-地雷","单兵火箭","喷雾","手枪-手炮","近战-电锯","放置-炮台","霰弹-独头","放置-诱导","特殊","特殊-弓","放置-远古兵器","放置-人形","放置-特殊","喷雾-激活","喷雾-附魔","喷雾-切换","服装","徽章"]}'),o=JSON.parse('{"default":{"cost":"负重","maxlv":"最大等级","baseType":"类型","damageBase":"基础攻击力","damageAdd":"成长攻击力","damageMaxLv":"满级攻击力","ammoBase":"基础载弹","ammoAdd":"成长载弹","ammoMaxLv":"满级载弹","fireRateBase":"基础攻速","fireRateAdd":"成长攻速","fireRateMaxLv":"满级攻速","countDownTimeMaxLv":"满级存在时间","hpBase":"基础生命","hpAdd":"成长生命","hpMaxLv":"满级生命","criticalRate":"暴击率","critRate":"暴击率","multiShootLineNum":"弹道数","limitedNumber":"存在上限","atkBase":"基础攻击力","atkAdd":"成长攻击力","atkMaxLv":"满级攻击力"},"cn":{"cost":"负重","maxlv":"最大等级","baseType":"类型","damageBase":"基础攻击力","damageAdd":"成长攻击力","damageMaxLv":"满级攻击力","ammoBase":"基础载弹","ammoAdd":"成长载弹","ammoMaxLv":"满级载弹","fireRateBase":"基础攻速","fireRateAdd":"成长攻速","fireRateMaxLv":"满级攻速","countDownTimeMaxLv":"满级存在时间","hpBase":"基础生命","hpAdd":"成长生命","hpMaxLv":"满级生命","criticalRate":"暴击率","critRate":"暴击率","multiShootLineNum":"弹道数","limitedNumber":"存在上限","atkBase":"基础攻击力","atkAdd":"成长攻击力","atkMaxLv":"满级攻击力"},"jp":{"cost":"重量","maxlv":"Max LV","baseType":"タイプ","damageBase":"基礎攻撃力","damageAdd":"成长攻撃力","damageMaxLv":"攻撃力","ammoBase":"基礎弾薬上限","ammoAdd":"成长弾薬上限","ammoMaxLv":"弾薬上限","fireRateBase":"基礎攻速","fireRateAdd":"成长攻速","fireRateMaxLv":"攻速","countDownTimeMaxLv":"継続時間","hpBase":"基礎HP","hpAdd":"成长HP","hpMaxLv":"HP","criticalRate":"会心率","critRate":"会心率","multiShootLineNum":"弾道数","limitedNumber":"設置上限","atkBase":"基礎攻撃力","atkAdd":"成长攻撃力","atkMaxLv":"攻撃力"},"en":{"cost":"Carry Load","maxlv":"Max LV","baseType":"Type","damageBase":"Base Attack","damageAdd":"+Attack Per Lv","damageMaxLv":"MaxLv Attack","ammoBase":"Base Ammo","ammoAdd":"+Ammo Per Lv","ammoMaxLv":"MaxLv Ammo","fireRateBase":"Base ASPD","fireRateAdd":"+ASPD Per Lv","fireRateMaxLv":"MaxLv ASPD","countDownTimeMaxLv":"Duration","hpBase":"Base HP","hpAdd":"+HP Per Lv","hpMaxLv":"MaxLv HP","criticalRate":"Crit Rate","critRate":"Crit Rate","multiShootLineNum":"Shoot Line Num","limitedNumber":"Deploy Upper Limit","atkBase":"Base Attack","atkAdd":"+Attack Per L:v","atkMaxLv":"MaxLv Atk"}}');const u=["cn","jp","en"],d={equipTypes:c,allDisplayProps:o},p=new s.Ay({data:{setting:{lang:"cn"},i18n_:d,translations:l,characters:n},computed:{equipTypes(){return this.setting.lang in this.i18n_.equipTypes?this.i18n_.equipTypes[this.setting.lang]:this.i18n_.equipTypes["default"]},allDisplayProps(){return this.setting.lang in this.i18n_.allDisplayProps?this.i18n_.allDisplayProps[this.setting.lang]:this.i18n_.allDisplayProps["default"]}},methods:{config({lang:t="cn"}){u.includes(t)?this.setting.lang=t:this.setting.lang="default"},translate(t){return this.translations[t]?this.translations[t][this.setting.lang]||t:this.characters[t]&&this.characters[t][this.setting.lang]||t}}});var m=p,h=i(2505),g=i.n(h);const v={uid:"",server:""},f={},_=()=>{let t=`#${v.uid}`;if("merged"!==v.server&&(t+=`@${v.server}`),0===Object.keys(f).length)return t;t+="?";for(let e in f)t+=`${e}=${encodeURI(f[e])}`;return t},y=window.location;let C=!1;var q={init(){if(y&&y.hash&&"string"===typeof y.hash){const t=/#(\d*)@?([^&?]*).*/,e=t.exec(y.hash);if(!e)return;if(isNaN(Number(e[1]))||(v.uid=e[1]),e[2]&&0!==e[2].length&&(v.server=e[2]),y.hash.includes("?")){const t=y.hash.split("?")[1];if(t&&t.length){const e=t.split("&");for(let t of e){const[e,i]=t.split("=");f[e]=i}}}}window.baseHash=v,window.extendHash=f},setHash(t,e){C||(t in v?v[encodeURI(t)]=encodeURI(e):f[encodeURI(t)]=encodeURI(e),y.hash=_())},getHash(t){const e=decodeURI(t);return e in v?decodeURI(v[e]):decodeURI(f[e]||"")},getHashUrl(){return _()},lock(){C=!0},unlock(){C=!1}},b=function(){var t=this,e=t._self._c;return e("header",[e("div",{staticClass:"mdui-app-bar mdui-appbar-fixed"},[e("div",{staticClass:"mdui-toolbar mdui-color-theme"},[t._m(0),e("div",{staticClass:"mdui-typo-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"mdui-toolbar-spacer"}),e("div",{staticClass:"mdui-textfield mdui-textfield-expandable mdui-float-right",attrs:{id:"search"}},[t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"mdui-textfield-input mdui-text-color-white",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),e("button",{staticClass:"mdui-textfield-close mdui-btn mdui-btn-icon",on:{click:function(e){t.searchInput=""}}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])]),e("img",{staticClass:"favicon",attrs:{src:"/images/favicon-r.png"}})]),e("div",{staticClass:"mdui-tab mdui-color-theme"},t._l(t.tabs,(function(i){return e("a",{staticClass:"type mdui-ripple mdui-ripple-white",class:{"mdui-tab-active":i.value===t.currentTab},on:{click:function(e){return t.selectTab(i.value)}}},[t._v(t._s(i.name))])})),0),t._m(2)])])},w=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"mdui-btn mdui-btn-icon mdui-ripple mdui-ripple-white",attrs:{href:"/"}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("home")])])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdui-textfield-icon mdui-btn mdui-btn-icon"},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("search")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-progress",attrs:{id:"progress"}},[e("div",{staticClass:"mdui-progress-indeterminate"})])}],k={data(){return{currentTab:"all",tabs:[{name:"全部",value:"all"},{name:"武器",value:"weapon"},{name:"服装",value:"costume"},{name:"徽章",value:"passiveSkill"},{name:"使魔",value:"pet"}],searchInput:""}},inject:["mdui","i18n"],computed:{title(){return this.i18n.translate("illustrateTitle")}},methods:{selectTab(t){this.currentTab=t,this.$emit("select-tab",t),this.mdui.mutation("#search")}},watch:{searchInput(t){this.$emit("search",t)}}},S=k,D=i(1656),x=(0,D.A)(S,b,w,!1,null,null,null),E=x.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"illustrate-view"},[e("div",{staticClass:"equips mdui-container-fluid"},t._l(t.equipsInPage,(function(i){return e("illustrateEquip",t._b({key:"equip"+i.uid+"-"+i.img,staticClass:"equip mdui-col-xs-6 mdui-col-sm-4 mdui-col-md-3 mdui-col-lg-2",on:{click:t.showEquipDetail}},"illustrateEquip",i,!1))})),1),e("IllustratePaging",{attrs:{equips:t.equips},on:{paging:t.paging}})],1)},A=[],I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"paging mdui-container-fluid"},[e("div",{staticClass:"paging-btns mdui-m-y-1"},t._l(t.buttons,(function(i){return e("span",{staticClass:"btn mdui-ripple",class:{disabled:t.isDisabled(i)},on:{click:function(e){return t.pageTo(i)}}},[t._v(t._s(i))])})),0),e("div",{staticClass:"paging-options mdui-m-b-5"},[e("div",{staticClass:"items-per-page"},[t._v("每页显示 "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.itemPerPage,expression:"itemPerPage",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:t.totalPages},domProps:{value:t.itemPerPage},on:{input:function(e){e.target.composing||(t.itemPerPage=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" 条 , 共 "+t._s(t.totalPages)+" 页")])])])},T=[],j={props:{equips:Array},data(){return{itemPerPage:20,currentPage:1,screenWidth:document.body.clientWidth}},computed:{pages(){const t=this.itemPerPage>0?this.itemPerPage:1,e=[];let i=[];for(let s of this.equips)i.push(s),i.length===t&&(e.push(i),i=[]);return 0!==i.length&&e.push(i),i=null,e},totalPages(){return this.pages.length||1},buttons(){const t=["<"];if(this.totalPages<=6)for(let e=1;e<=this.totalPages;e++)t.push(e);else if(this.currentPage<5){for(let e=1;e<=5;e++)t.push(e);t.push("...",this.totalPages)}else if(this.currentPage>this.totalPages-4){t.push(1,"...");for(let e=this.totalPages-4;e<=this.totalPages;e++)t.push(e)}else t.push(1,"...",this.currentPage-1,this.currentPage,this.currentPage+1,"...",this.totalPages);return t.push(">"),t}},methods:{pageTo(t){let e={"|<":1,"<":this.currentPage-1,">":this.currentPage+1,">|":this.totalPages}[t];void 0===e&&(e=t),this.currentPage=e,this.$emit("paging",this.pages[this.currentPage-1])},isDisabled(t){let e=t.toString(),i=!1;return i=e.includes("<")?1===this.currentPage:e.includes(">")?this.currentPage===this.totalPages:"..."===t||t===this.currentPage,i},onResizeEvent(t){this.itemPerPage=t>=768?40:20}},watch:{totalPages(t){this.currentPage>t&&(this.currentPage=t),this.$emit("paging",this.pages[this.currentPage-1])},"equips.length"(){this.$emit("paging",this.pages[this.currentPage-1])},screenWidth(t){this.onResizeEvent(t)}},mounted(){this.$emit("paging",this.pages[this.currentPage-1]);const t=this;window.onresize=()=>{t.screenWidth=document.body.clientWidth},this.onResizeEvent(this.screenWidth)}},F=j,L=(0,D.A)(F,I,T,!1,null,null,null),N=L.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"illustrate-equip mdui-valign mdui-ripple",on:{click:t.clickEquip}},[e("img",{staticClass:"equip-img",attrs:{src:t.src},on:{error:t.errorImage}}),e("div",{staticClass:"equip-info gray"},[e("div",{staticClass:"equip-title",class:{special:t.isSpecial}},[t._v(t._s(t.title))]),e("div",{staticClass:"equip-stars"},t._l(Number(t.rarity),(function(t){return e("img",{staticClass:"equip-star",attrs:{src:"/images/star-full.png"}})})),0)])])},M=[],R={props:{img:[String,Number],rarity:[String,Number],title:String,uid:[String,Number],id:String},data(){return{src:""}},computed:{isSpecial(){return"0"===this.id||"0"===this.img}},inject:["getEquipImg"],created(){this.src=this.getEquipImg(this.img)},methods:{errorImage(){this.src="/error.png"},clickEquip(){this.$emit("click",this.uid)}}},B=R,H=(0,D.A)(B,$,M,!1,null,null,null),O=H.exports,U={props:{equips:Array},data(){return{equipsInPage:[]}},components:{IllustratePaging:N,IllustrateEquip:O},methods:{paging(t){this.equipsInPage=t},showEquipDetail(t){this.$emit("showEquipDetail",t)}}},X=U,J=(0,D.A)(X,P,A,!1,null,null,null),W=J.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"illustrate-detail mdui-dialog",attrs:{id:"detail-dialog"}},[e("div",{staticClass:"mdui-dialog-content"},[e("DetailPrimary",t._b({},"DetailPrimary",t.equip,!1)),e("DetailSecondary",{attrs:{equip:t.equip,showDetail:t.showDetail}}),e("div",{staticClass:"watermark"},[t._v("搞事学园 @ https://redbean.tech/illustrate/v3")]),e("DetailSkills",{attrs:{equip:t.equip,showDetail:t.showDetail}}),e("DetailFormulas",{attrs:{equip:t.equip},on:{"update-dialog":t.updateDialog}}),e("DetailCharacter",{attrs:{characters:t.equip.characters}}),e("DetailMega",{attrs:{mega:t.equip.mega}}),e("DetailSkin",{attrs:{skins:t.equip.skins}})],1),e("div",{staticClass:"mdui-dialog-actions"},[e("div",{staticClass:"mdui-text-center mdui-text-color-red"},[t._v(t._s(t.translate("数据仅供参考 , 请以正式服数据为准")))]),e("label",{staticClass:"mdui-checkbox",attrs:{for:"toggleDetail"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.showDetail,expression:"showDetail"}],attrs:{id:"toggleDetail",type:"checkbox"},domProps:{checked:Array.isArray(t.showDetail)?t._i(t.showDetail,null)>-1:t.showDetail},on:{change:function(e){var i=t.showDetail,s=e.target,a=!!s.checked;if(Array.isArray(i)){var r=null,l=t._i(i,r);s.checked?l<0&&(t.showDetail=i.concat([r])):l>-1&&(t.showDetail=i.slice(0,l).concat(i.slice(l+1)))}else t.showDetail=a}}}),e("i",{staticClass:"mdui-checkbox-icon"}),t._v(t._s(t.translate("显示细节")))]),e("button",{staticClass:"mdui-btn mdui-ripple mdui-shadow-1",attrs:{"mdui-tooltip":'{content: "分享"}'},on:{click:t.share}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("share")])]),t._m(0)])])},z=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdui-btn mdui-ripple mdui-shadow-1",attrs:{"mdui-dialog-close":""}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])}],V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-primary gray"},[e("div",{staticClass:"mdui-row mdui-valign"},[e("img",{staticClass:"detail-equip-img",attrs:{src:t.equipSrc},on:{error:function(e){return t.errorImg("equipSrc")}}}),e("div",{staticClass:"detail-primary-line mdui-m-l-1"},[e("span",{staticClass:"detail-no"},[t._v("No."+t._s(t.id))]),t.seriesId?e("img",{staticClass:"detail-series-img",attrs:{src:t.seriesSrc,"mdui-tooltip":"{content: '"+t.seriesText+"'}"},on:{error:function(e){return t.errorImg("seriesSrc")}}}):t._e(),e("span",{staticClass:"detail-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"detail-rarity"},[t.damageType?e("img",{staticClass:"detail-damage-type",attrs:{src:t.damageTypeSrc},on:{error:function(e){return t.errorImg("damageTypeSrc")}}}):t._e(),t._l(Number(t.rarity||0),(function(t){return e("img",{staticClass:"detail-rarity-star",attrs:{src:"/images/star-full.png"}})}))],2),t.ultraSkill?t._e():e("div",{staticClass:"detail-decompose"},[t._v("* "+t._s(t.decomposeText)+" *")])])]),""!==t.desc?e("div",{staticClass:"mdui-row"},[e("div",{staticClass:"detail-primary-line"},[e("div",{staticClass:"detail-desc green",domProps:{innerHTML:t._s(t.descHtml)}})])]):t._e()])},Z=[],G={props:{img:String,id:String,title:String,seriesId:[String,Number],seriesText:String,desc:String,rarity:String,damageType:String,decompose:Boolean,ultraSkill:Object},inject:["getEquipImg","i18n"],data(){return{equipSrc:"",seriesSrc:"",damageTypeSrc:""}},methods:{errorImg(t){this[t]="/error.png"}},computed:{decomposeText(){return this.decompose?this.i18n.translate("decomposeable"):this.i18n.translate("decomposeabless")},descHtml(){return this.desc?this.desc.replace(/#n/g,"<br>").replace(/#!ALB\(.*?\)/,""):""}},watch:{img(t){this.equipSrc=this.getEquipImg(t)},seriesId(t){this.seriesSrc=`/images/icons/SeriesNo/${t}.png`},damageType(t){this.damageTypeSrc=`/images/icons/Type/${t}.png`}}},K=G,Y=(0,D.A)(K,V,Z,!1,null,null,null),tt=Y.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-secondary mdui-row gray mdui-m-t-1"},t._l(t.displayProps,(function(i,s){return e("div",{key:i,staticClass:"detail-secondary-prop mdui-col-xs-6 mdui-col-sm-4"},[e("span",{staticClass:"detail-secondary-title"},[t._v(t._s(i)+": ")]),"baseType"===s?e("span",{staticClass:"detail-secondary-prop"},[t._v(t._s(t.translate(t.equip[s])))]):s.includes("crit")?e("span",{staticClass:"detail-secondary-prop"},[t._v(t._s(t._f("percentage")(t.equip[s])))]):e("span",{staticClass:"detail-secondary-prop"},[t._v(t._s(t._f("floatValue")(t.equip[s])))])])})),0)},it=[],st={props:{equip:Object,showDetail:Boolean},inject:["i18n"],computed:{allDisplayProps(){return this.i18n.allDisplayProps},displayProps(){const t={};for(let e in this.allDisplayProps)if(this.equip[e]){const i=this.equip[e];e.startsWith("hp")?this.equip.baseType&&"放置-诱导"!==this.equip.baseType||(e.includes("MaxLv")&&""!==i&&"0"!==i||this.showDetail)&&(t[e]=this.allDisplayProps[e]):e.includes("Base")||e.includes("Add")?this.showDetail&&""!==i&&"0"!==i&&(t[e]=this.allDisplayProps[e]):""!==i&&"0"!==i&&(t[e]=this.allDisplayProps[e])}return t}},methods:{translate(t){return this.i18n.translate(t)}},filters:{percentage(t){const e=Number(t);return isNaN(e)?t:parseFloat((100*e).toPrecision(4))+"%"},floatValue(t){const e=Number(t);return isNaN(e)?t:parseFloat(e.toPrecision(4))}}},at=st,rt=(0,D.A)(at,et,it,!1,null,null,null),lt=rt.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-skills mdui-m-t-1"},t._l(t.displaySkills,(function(i){return e("div",{staticClass:"detail-skill mdui-row gray"},[e("p",{staticClass:"detail-skill-title"},[i.type?e("span",{staticClass:"pet-type"},[t._v("[ "+t._s(i.type)+" ] ")]):t._e(),e("span",{staticClass:"detail-skill-title"},[e("span",{staticClass:"detail-skill-title green"},[t._v(t._s(i.title))])]),i.damageType?e("img",{staticClass:"detail-skill-damage-type",attrs:{src:"/images/icons/Type/"+i.damageType+".png"}}):t._e()]),e("p",{staticClass:"detail-skill-desc",domProps:{innerHTML:t._s(t.parseHtml(t.showDetail?i.desc:i.maxLvDesc))}}),i.affixes&&i.affixes.length?e("p",{staticClass:"detail-skill-affixes"}):t._e(),t._l(i.affixes,(function(i){return e("p",{staticClass:"detail-skill-affix"},[e("span",{staticClass:"skill-affix-title"},[t._v("["+t._s(i.title)+"]")]),e("span",{staticClass:"skill-affix-desc"},[t._v(t._s(i.desc))])])})),e("p")],2)})),0)},ct=[],ot=(i(2577),{props:{equip:Object,showDetail:Boolean},computed:{displaySkills(){const t=[];if(!this.equip)return t;for(let e in this.equip)if("extraSkills"===e)t.push(...this.equip[e]);else if(e.includes("Skill")||e.includes("prop")){if("exceedSkills"===e)continue;if("exceedSkills"in this.equip&&e.includes("prop")){const i=e.replace("prop",""),s=this.equip.exceedSkills.find((t=>t.exceedPeriod===i));if(s){t.push(Object.assign({},s,{title:`[ 超限${i} ] ${s.title}`}));continue}}t.push(this.equip[e])}return t},displayProps(){const t=[];if(!this.equip)return t;for(let e in this.equip)"extraSkills"===e||"exceedSkills"===e||(e.includes("Skill")||e.includes("prop"))&&t.push(e);return t},descHtml(){const t={};if(!this.displayProps)return t;for(let e of this.displayProps){const i=this.showDetail?this.equip[e].desc:this.equip[e].maxLvDesc;t[this.equip[e].title]=this.parseHtml(i)}return t}},methods:{parseHtml(t){const e='<span class="blue">',i="</span>",s=/(-?[\d.]+\(.+?\)%?)/g;return t.replace(/^#!ALB\(.+?\)/,"").replace(s,(t=>e+t+i)).replace(/\[.+\]/g,(t=>e+t+i)).replace(/#n/g,"<br>")}}}),ut=ot,dt=(0,D.A)(ut,nt,ct,!1,null,null,null),pt=dt.exports,mt=function(){var t=this,e=t._self._c;return t.equip?e("div",{staticClass:"detail-all-formulas-container mdui-m-t-1"},[t.equip.decompose?e("div",{staticClass:"detail-decompose mdui-row"},[e("p",{staticClass:"green"},[t._v("拆解后回收装备：")]),e("p",{staticClass:"detail-decompose-info detail-formula mdui-valign"},[e("img",{attrs:{src:t.getEquipImg(t.equip.decomposeEquip.img)},on:{error:function(e){return t.errorImg(e)}}}),e("span",{staticClass:"mdui-m-l-1"},[t._v(t._s(t.equip.decomposeEquip.title))])])]):t._e(),t.equip.evolveFormula?e("div",{staticClass:"detail-formulas-container"},t._l(t.equip.evolveFormula,(function(i,s){return i.length?e("div",{staticClass:"detail-formulas mdui-row"},[e("p",{staticClass:"green"},"input"===s?[t._v("此装备可进化：")]:[t._v("进化至此装备：")]),t._l(i,(function(i){return e("div",{staticClass:"detail-formula mdui-valign"},[e("img",{staticClass:"formula-input",attrs:{src:t.getEquipImg(i.inputEquip)},on:{error:function(e){return t.errorImg(e)}}}),e("i",{staticClass:"mdui-icon material-icons"},[t._v("add")]),t._l(i.materials,(function(i){return e("img",{staticClass:"formula-materials",attrs:{src:t.getEquipImg(i)},on:{error:function(e){return t.errorImg(e)}}})})),e("i",{staticClass:"mdui-icon material-icons"},[t._v("arrow_forward")]),e("img",{staticClass:"formula-output",attrs:{src:t.getEquipImg(i.outputEquip)},on:{error:function(e){return t.errorImg(e)}}})],2)}))],2):t._e()})),0):t._e(),t.equip.awakenFormula?e("div",{staticClass:"detail-awaken-formula mdui-row"},[e("p",{staticClass:"green"},[t._v("觉醒公式：")]),e("div",{staticClass:"detail-formula"},t._l(t.equip.awakenFormula,(function(i){return e("img",{staticClass:"awaken-material",attrs:{src:t.getEquipImg(i)},on:{error:function(e){return t.errorImg(e)}}})})),0),e("div",{staticClass:"mdui-panel mdui-panel-gapless",attrs:{"mdui-panel":""}},[e("div",{staticClass:"mdui-panel-item",on:{click:t.showAwakenImage}},[t._m(0),e("div",{staticClass:"mdui-panel-item-body"},[e("div",{staticClass:"detail-formula-awaken-image"},[t.showAwaken?e("img",{staticClass:"awaken-image",attrs:{src:t.getAwakenImg(t.equip.posterId)},on:{error:function(e){return t.errorPoster(e)}}}):t._e()])])])])]):t._e()]):t._e()},ht=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-panel-item-header"},[t._v("觉醒图"),e("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])])}],gt={props:{equip:Object},data(){return{showAwaken:!1}},inject:["getEquipImg","mdui"],methods:{errorImg(t){t.target&&(t.target.src="/error.png")},getAwakenImg(t){return`https://api-1256168079.cos.ap-chengdu.myqcloud.com/images/awaken/${1e3+Number(t)}.png`},errorPoster(t){if(t.target&&t.target.src){const e=t.target.src,i=e.match(/\/(\d*).png$/);if(i[1]&&i[1].length){const s=i[1];if(s.length<=4)return t.target.src=e.replace(s,s+"1")}return t.target.src="/error.png"}},showAwakenImage(){this.showAwaken=!this.showAwaken,this.$nextTick((()=>{this.mdui.mutation(".detail-formula"),this.$emit("update-dialog")}))}}},vt=gt,ft=(0,D.A)(vt,mt,ht,!1,null,null,null),_t=ft.exports,yt=function(){var t=this,e=t._self._c;return t.characters?e("div",{staticClass:"detail-character"},[e("p",{staticClass:"green"},[t._v("特性：")]),e("div",{staticClass:"characters"},t._l(t.characters,(function(i){return e("div",{staticClass:"character"},[e("img",{staticClass:"chara-img",attrs:{src:"http://static.image.mihoyo.com/hsod2_webview/images/broadcast_top/equip_icon/png/Type/"+i.id+".png"}}),e("span",{staticClass:"green mdui-m-r-1"},[t._v(t._s(i.name)+":")]),e("span",[t._v(t._s(i.skill.desc)+" ( "),t._l(i.skill.props,(function(i){return e("span",{staticClass:"blue"},[t._v(t._s(t.percentage(i))+" ")])})),t._v(")")],2)])})),0)]):t._e()},Ct=[],qt={props:{characters:Array},methods:{percentage(t){const e=Number(t);return isNaN(e)?t:parseFloat((100*e).toPrecision(4))+"%"}}},bt=qt,wt=(0,D.A)(bt,yt,Ct,!1,null,null,null),kt=wt.exports,St=function(){var t=this,e=t._self._c;return t.mega?e("div",{staticClass:"detail-mega mdui-row"},[e("p",{staticClass:"green"},[t._v("突破技能:")]),t._l(t.mega,(function(i,s){return e("div",{staticClass:"mega-info"},[i instanceof Array?e("div",{staticClass:"mega-character"},[e("p",[t._v("突破"+t._s(s+1)+" (获得特性)")]),e("div",{staticClass:"mdui-m-l-1"},[e("img",{staticClass:"chara-img",attrs:{src:"http://static.image.mihoyo.com/hsod2_webview/images/broadcast_top/equip_icon/png/Type/"+i[0].id+".png"}}),e("span",{staticClass:"green mdui-m-r-1"},[t._v(t._s(i[0].name)+":")]),e("span",[t._v(t._s(i[0].skill.desc)+" ( "),t._l(i[0].skill.props,(function(i){return e("span",{staticClass:"blue"},[t._v(t._s(t.percentage(i))+" ")])})),t._v(")")],2)])]):e("div",{staticClass:"mega-skill"},[e("p",[t._v("突破"+t._s(s+1)+" (获得技能)")]),e("div",{staticClass:"mdui-m-l-1 gray"},[e("p",{staticClass:"detail-skill-title"},[i.type?e("span",{staticClass:"pet-type"},[t._v("[ "+t._s(i.type)+" ] ")]):t._e(),e("span",{staticClass:"detail-skill-title green"},[t._v(t._s(i.title))]),i.damageType?e("img",{staticClass:"detail-skill-damage-type",attrs:{src:"/images/icons/Type/"+i.damageType+".png"}}):t._e()]),e("p",{staticClass:"detail-skill-desc",domProps:{innerHTML:t._s(t.parseHtml(i.desc))}})])])])})),e("p")],2):t._e()},Dt=[],xt={props:{mega:Array},methods:{percentage(t){const e=Number(t);return isNaN(e)?t:parseFloat((100*e).toPrecision(4))+"%"},parseHtml(t){const e='<span class="blue">',i="</span>",s=/(-?[\d.]+\(.+?\)%?)/g;return t.replace(/^#!ALB\(.+?\)/,"").replace(s,(t=>e+t+i)).replace(/#n/g,"<br>")}}},Et=xt,Pt=(0,D.A)(Et,St,Dt,!1,null,null,null),At=Pt.exports,It=function(){var t=this,e=t._self._c;return t.skins?e("div",{staticClass:"detail-skins mdui-row mdui-m-t-1"},[e("div",{staticClass:"mdui-panel mdui-panel-gapless",attrs:{"mdui-panel":""}},[e("div",{staticClass:"mdui-panel-item"},[t._m(0),e("div",{staticClass:"mdui-panel-item-body"},t._l(t.skins,(function(i){return i.img&&i.posterId?e("div",{staticClass:"detail-skin"},[e("p",{staticClass:"skin-title"},[e("img",{staticClass:"skin-img",attrs:{src:t.getSkinImg(i.img)},on:{error:t.imgError}}),e("span",{staticClass:"mdui-m-l-2 green"},[t._v(t._s(i.name))])]),e("img",{staticClass:"skin-poster",attrs:{src:t.getSkinPosterImg(i.posterId)}})]):t._e()})),0)])])]):t._e()},Tt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-panel-item-header"},[t._v("皮肤"),e("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])])}],jt={props:{skins:Array},inject:["mdui"],methods:{getSkinImg(t){return`https://api-1256168079.cos.ap-chengdu.myqcloud.com/images/icons/equips/${t}.png`},getSkinPosterImg(t){return`https://api-1256168079.cos.ap-chengdu.myqcloud.com/images/awaken/${1e3+parseInt(t)}.png`},imgError(t){t.target.src="/error.png"}},mounted(){this.mdui.mutation()}},Ft=jt,Lt=(0,D.A)(Ft,It,Tt,!1,null,null,null),Nt=Lt.exports,$t={props:{equip:Object},data(){return{showDetail:!1}},inject:["i18n","isOriginal"],components:{DetailPrimary:tt,DetailSecondary:lt,DetailSkills:pt,DetailFormulas:_t,DetailCharacter:kt,DetailMega:At,DetailSkin:Nt},methods:{share(){this.$emit("share",this.equip.title)},translate(t){return this.i18n.translate(t)},updateDialog(){this.$emit("update-dialog")}},watch:{showDetail(){this.$emit("update-dialog")}},updated(){this.$nextTick((()=>{this.$emit("update-dialog")}))}},Mt=$t,Rt=(0,D.A)(Mt,Q,z,!1,null,null,null),Bt=Rt.exports,Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-fab-wrapper",attrs:{"mdui-fab":'{ trigger: "hover" }'}},[t._m(0),e("div",{staticClass:"mdui-fab-dial"},[e("button",{staticClass:"mdui-fab mdui-fab-mini mdui-ripple mdui-color-theme-accent",attrs:{"mdui-tooltip":'{ content: "使魔特性", position: "left" }'},on:{click:t.showCharacterDialog}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("filter_none")])]),e("button",{staticClass:"mdui-fab mdui-fab-mini mdui-ripple mdui-color-theme-accent",attrs:{"mdui-tooltip":'{ content: "装备筛选", position: "left" }'},on:{click:t.showFilterDialog}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("filter_list")])]),e("button",{staticClass:"mdui-fab mdui-fab-mini mdui-ripple mdui-color-theme-accent",attrs:{"mdui-tooltip":'{ content: "数据源设置", position: "left" }'},on:{click:t.showDataSettingDialog}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("perm_data_setting")])]),e("button",{staticClass:"mdui-fab mdui-fab-mini mdui-ripple mdui-color-theme-accent",on:{click:t.backToTop}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("publish")])])])])},Ot=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdui-fab mdui-ripple mdui-color-theme-accent"},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("settings")])])}],Ut={methods:{showCharacterDialog(){this.$emit("show-character-dialog")},showFilterDialog(){this.$emit("show-filter-dialog")},showDataSettingDialog(){this.$emit("show-data-setting-dialog")},backToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},Xt=Ut,Jt=(0,D.A)(Xt,Ht,Ot,!1,null,null,null),Wt=Jt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog",attrs:{id:"pet-characters"}},[t._m(0),e("div",{staticClass:"mdui-dialog-content"},[e("div",{staticClass:"character-dialog-container"},[t._m(1),e("div",{staticClass:"options"},t._l(t.characterOptions,(function(i,s){return e("label",{staticClass:"mdui-checkbox mdui-m-r-1",attrs:{"mdui-tooltip":"{content: '"+t.characterAdds[i.replace("·EX","")]+"'}"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.characters,expression:"characters"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.characters)?t._i(t.characters,i)>-1:t.characters},on:{change:function(e){var s=t.characters,a=e.target,r=!!a.checked;if(Array.isArray(s)){var l=i,n=t._i(s,l);a.checked?n<0&&(t.characters=s.concat([l])):n>-1&&(t.characters=s.slice(0,n).concat(s.slice(n+1)))}else t.characters=r}}}),e("i",{staticClass:"mdui-checkbox-icon"}),e("img",{staticClass:"character-icon",attrs:{src:"\thttps://api-1256168079.cos.ap-chengdu.myqcloud.com/images/icons/pet-characters/"+("000"+(s+1)).slice(-3)+".png"}}),e("span",{staticClass:"mdui-hidden-xs"},[t._v(t._s(i))])])})),0),e("div",{staticClass:"pets mdui-m-t-2"},t._l(t.filteredPets,(function(t){return e("div",{staticClass:"pet-img"},[e("img",{attrs:{src:"https://static.image.mihoyo.com/hsod2_webview/images/broadcast_top/equip_icon/png/"+(t<1e3?("000"+t).slice(-3):t)+".png"}})])})),0)])]),e("div",{staticClass:"mdui-dialog-actions"},[e("div",{staticClass:"mdui-text-center mdui-text-color-red"},[e("b",[t._v(t._s(t.i18n.translate("forReferenceOnly")))])]),t._m(2)])])},zt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog-title"},[e("div",{staticClass:"mdui-dialog-title-header"},[t._v("使魔特性速查")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"character-description mdui-typo"},[e("p",[t._v("选中特性可以筛选包含该特性的使魔，选择多个时只会出现同时包含多个特性的使魔。"),e("span",{staticClass:"gray"},[t._v("注：EX特性一次计为2层普通特性")])])])},function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-close":""}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])}],Vt=(i(1454),{props:{pets:Array},inject:["i18n"],data(){return{characterOptions:["怒雷","秘法","烈焰","寒冰","斩钢","猛毒","爆裂","铁骨","迅手","神行","灵动","暴怒","裁决","富饶","怒雷·EX","秘法·EX","烈焰·EX","寒冰·EX","斩钢·EX","猛毒·EX","爆裂·EX","铁骨·EX","迅手·EX","神行·EX","灵动·EX","暴怒·EX","裁决·EX","富饶·EX"],characterAdds:{"怒雷":"增加电属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","秘法":"增加能量属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","烈焰":"增加火属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","寒冰":"增加冰属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","斩钢":"增加物理属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","猛毒":"增加毒属性伤害 (1% 3% 6% 10% 15% 23% 35% 54% 80% 87% 94% 101% 109% 117% 125%)","爆裂":"增加暴击伤害 (2% 5% 9% 14% 20% 32% 52% 81% 120% 128% 135% 143% 151% 159% 167%)","铁骨":"提升减伤 (2% 5% 9% 14% 20% 27% 36% 47% 60% 62% 64% 66% 68% 70% 72%)","迅手":"提升攻击速度 (1% 3% 6% 10% 15% 21% 28% 38% 50% 54% 57% 61% 65% 69% 73%)","神行":"增加常驻移速 (1% 3% 6% 10% 15% 21% 28% 38% 50% 52.5% 55% 57.5% 60% 62.5% 65%)","灵动":"提升闪避率 (2% 5% 9% 14% 20% 27% 36% 47% 60% 62% 64% 66% 68% 70% 72%)","暴怒":"增加暴击率 (2% 5% 9% 14% 20% 27% 36% 47% 60% 67% 74% 81% 88% 95% 102%)","裁决":"提升全伤害 (2% 5% 9% 14% 20% 27% 36% 47% 60% 68% 76% 85% 94% 104% 114%)","富饶":"增加载弹量 (2% 5% 10% 17% 24% 33% 43% 57% 72% 78% 83% 89% 94% 100% 106%)"},characters:[]}},computed:{petCharacters(){return this.pets.map((t=>{if(!t.characters)return[t.img];const e=[];return t.mega&&t.mega[0]&&t.mega[2]&&e.push(t.mega[0][0].desc,t.mega[2][0].desc),[t.img,...t.characters.map((t=>t.desc)),...e]}))},filteredPets(){return this.petCharacters.filter((t=>{let e=!0;for(let i of this.characters)t.includes(i)||(e=!1);return e})).map((t=>t[0]))}}}),Zt=Vt,Gt=(0,D.A)(Zt,Qt,zt,!1,null,null,null),Kt=Gt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dialog-filter mdui-dialog",attrs:{id:"filter"}},[e("div",{staticClass:"mdui-dialog-title"},[e("div",{staticClass:"mdui-dialog-title-header"},[t._v(t._s(t.translate("equipFilter")))])]),e("div",{staticClass:"mdui-dialog-content"},[e("div",{staticClass:"content"},[e("div",{staticClass:"filters mdui-panel mdui-panel-gapless",attrs:{"mdui-panel":""}},[e("div",{staticClass:"mdui-panel-item series-filter mdui-panel-item-open"},[e("div",{staticClass:"mdui-panel-item-header"},[t._v(t._s(t.translate("series"))),e("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])]),e("div",{staticClass:"mdui-panel-item-body"},[e("div",{staticClass:"series-options options"},t._l(t.seriesMap,(function(i){return 22!==i[0]?e("label",{staticClass:"mdui-checkbox mdui-m-r-1 mdui-p-l-3",attrs:{"mdui-tooltip":"{content: '"+i[1]+"'}"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.seriesFilters,expression:"seriesFilters"}],attrs:{type:"checkbox"},domProps:{value:i[0],checked:Array.isArray(t.seriesFilters)?t._i(t.seriesFilters,i[0])>-1:t.seriesFilters},on:{change:function(e){var s=t.seriesFilters,a=e.target,r=!!a.checked;if(Array.isArray(s)){var l=i[0],n=t._i(s,l);a.checked?n<0&&(t.seriesFilters=s.concat([l])):n>-1&&(t.seriesFilters=s.slice(0,n).concat(s.slice(n+1)))}else t.seriesFilters=r}}}),e("i",{staticClass:"mdui-checkbox-icon"}),e("img",{staticClass:"series-icon",attrs:{src:t.seriesImg(i[0])},on:{error:function(e){return t.errorImg(e)}}})]):t._e()})),0),e("div",{staticClass:"series-action"},[e("button",{staticClass:"mdui-btn mdui-shadow-2 mdui-m-t-1 mdui-m-r-2",on:{click:t.selectAllSeries}},[t._v(t._s(t.translate("selectAll")))]),e("button",{staticClass:"mdui-btn mdui-shadow-2 mdui-m-t-1",on:{click:t.invertSeries}},[t._v(t._s(t.translate("invertSelection")))])])])]),e("div",{staticClass:"mdui-panel-item type-filter"},[e("div",{staticClass:"mdui-panel-item-header"},[t._v(t._s(t.translate("types"))),e("i",{staticClass:"mdui-panel-item-arrow mdui-icon material-icons"},[t._v("keyboard_arrow_down")])]),e("div",{staticClass:"mdui-panel-item-body"},[e("div",{staticClass:"types-options options"},t._l(t.equipTypes,(function(i){return e("label",{staticClass:"mdui-checkbox mdui-m-r-1 mdui-p-l-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.typesFilters,expression:"typesFilters"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(t.typesFilters)?t._i(t.typesFilters,i)>-1:t.typesFilters},on:{change:function(e){var s=t.typesFilters,a=e.target,r=!!a.checked;if(Array.isArray(s)){var l=i,n=t._i(s,l);a.checked?n<0&&(t.typesFilters=s.concat([l])):n>-1&&(t.typesFilters=s.slice(0,n).concat(s.slice(n+1)))}else t.typesFilters=r}}}),e("i",{staticClass:"mdui-checkbox-icon"}),t._v(t._s(t.translate(i)))])})),0),e("div",{staticClass:"types-action"},[e("button",{staticClass:"mdui-btn mdui-shadow-2 mdui-m-t-1 mdui-m-r-2",on:{click:t.selectAllTypes}},[t._v(t._s(t.translate("selectAll")))]),e("button",{staticClass:"mdui-btn mdui-shadow-2 mdui-m-t-1",on:{click:t.invertTypes}},[t._v(t._s(t.translate("invertSelection")))])])])])]),t.typeFilteredEquips[0]?e("div",{staticClass:"filtered-equips mdui-m-t-2"},t._l(t.typeFilteredEquips,(function(i){return e("div",{staticClass:"filtered-equip mdui-ripple",on:{click:function(e){return t.showFilteredEquipDetail(i)}}},[e("img",{staticClass:"filtered-equip-icon",attrs:{src:t.getEquipImg(i.img)},on:{error:function(e){return t.errorImg(e)}}}),e("p",{staticClass:"filtered-equip-title"},[e("b",{staticClass:"mdui-text-center"},[t._v(t._s(i.title))])])])})),0):e("div",{staticClass:"no-equip-hint mdui-m-t-2 mdui-text-center"},[e("b",[t._v(t._s(t.translate("noEligibleEquip")))])])])]),e("div",{staticClass:"mdui-dialog-actions"},[e("div",{staticClass:"mdui-text-center mdui-text-color-grey"},[t._v(t._s(t.translate("注: 选择的项目过多可能导致卡顿问题")))]),e("div",{staticClass:"mdui-text-center filter-hints"},[e("b",{staticClass:"mdui-text-color-red"},[t._v(t._s(t.translate("forReferenceOnly")))]),e("p",{staticClass:"mdui-text-color-grey"},[e("b",[t._v(t._s(t.translate("clickIconForDetail")))])])]),t._m(0)])])},te=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdui-btn mdui-ripple mdui-shadow-1",attrs:{"mdui-dialog-close":""}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])}];const ee=t=>!("baseType"in t)&&"hpBase"in t,ie=t=>"seriesId"in t&&!ee(t)&&!("ammoBase"in t);var se={props:{equips:Array,dialog:Object},inject:["mdui","getEquipImg","showEquipDetail","i18n"],data(){return{seriesFilters:[],typesFilters:[]}},computed:{seriesMap(){const t=new Map;for(const e of this.equips)e.seriesText&&(t.has(e.seriesId)||t.set(e.seriesId,e.seriesText));return[...t.entries()].sort(((t,e)=>t[0]-e[0]))},equipTypes(){return this.i18n.equipTypes},includeCostume(){return this.typesFilters.includes("服装")},includeSkill(){return this.typesFilters.includes("徽章")},seriesFilteredEquips(){const t=[];for(let e of this.equips)this.seriesFilters.includes(Number(e.seriesId))&&t.push(e);return t},typeFilteredEquips(){const t=[];for(let e of this.seriesFilteredEquips)this.typesFilters.includes(e.baseType)?t.push(e):(this.includeCostume&&ee(e)&&t.push(e),this.includeSkill&&ie(e)&&t.push(e));return t}},methods:{translate(t){return this.i18n.translate(t)},showFilteredEquipDetail(t){this.dialog.close(),this.showEquipDetail(t.uid),this.mdui.JQ("#detail-dialog").one("close.mdui.dialog",(()=>{this.$nextTick((()=>{this.dialog.open()}))}))},selectAllSeries(){this.seriesFilters=Array.from(seriesMap.map((t=>t[0])))},invertSeries(){const t=Array.from(seriesMap.map((t=>t[0]))),e=[];for(let i of t)this.seriesFilters.includes(i)||e.push(i);this.seriesFilters=e},selectAllTypes(){this.typesFilters=Array.from(this.equipTypes)},invertTypes(){const t=Array.from(this.equipTypes),e=[];for(let i of t)this.typesFilters.includes(i)||e.push(i);this.typesFilters=e},seriesImg(t){return"/images/icons/SeriesNo/"+t+".png"},errorImg(t){t&&t.target&&(t.target.src="/error.png")}},watch:{typeFilteredEquips(){this.$nextTick((()=>{this.dialog&&this.dialog.handleUpdate()}))}},updated(){this.mdui.mutation("#filter")},mounted(){this.mdui.mutation("#filter");const t=this;this.typesFilters=Array.from(this.equipTypes),this.mdui.JQ("#filter").on("opened.mdui.panel closed.mdui.panel",(()=>{null!==t.dialog&&t.dialog.handleUpdate()}))}},ae=se,re=(0,D.A)(ae,Yt,te,!1,null,null,null),le=re.exports,ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog",attrs:{id:"share-dialog"}},[e("div",{staticClass:"mdui-dialog-title"},[e("div",{staticClass:"mdui-dialog-title-header"},[t._v(t._s(t.title))])]),e("div",{staticClass:"mdui-dialog-content share-content"},[e("div",{staticClass:"share-icons"},[e("div",{staticClass:"share-type mdui-ripple mdui-m-b-2",on:{click:function(e){return t.shareBy("qqFriend")}}},[e("div",{staticClass:"share-icon mdui-icon icon-qq"}),e("div",{staticClass:"share-title"},[t._v("QQ好友")])]),e("div",{staticClass:"share-type mdui-ripple mdui-m-b-2",on:{click:function(e){return t.shareBy("qZone")}}},[e("div",{staticClass:"share-icon mdui-icon icon-qzone"}),e("div",{staticClass:"share-title"},[t._v("QQ空间")])]),e("div",{staticClass:"share-type mdui-ripple mdui-m-b-2",on:{click:function(e){return t.shareBy("weibo")}}},[e("div",{staticClass:"share-icon mdui-icon icon-weibo"}),e("div",{staticClass:"share-title"},[t._v("微博")])])]),e("div",{staticClass:"share-hints mdui-typo mdui-text-left"},[e("p",[t._v("如果以上按钮无法正常分享 , 请尝试使用浏览器的分享功能或直接复制地址后分享 , 地址:"),e("pre",[t._v(t._s(t.shareLink))])])])]),t._m(0)])},ce=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog-actions"},[e("div",{staticClass:"mdui-btn mdui-ripple mdui-shadow-1",attrs:{"mdui-dialog-close":""}},[e("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])])}],oe=i(8895),ue=i.n(oe),de={props:{equip:Object,currentServerName:String},data(){return{share:{title:"装备图鉴 - 搞事学园",from:"搞事学园"},dialog:null,nativeShare:new(ue())}},inject:["mdui","getEquipImg","getEquipRarityTitle"],computed:{versionInfo(){return"国测合并"===this.currentServerName?"":`（${this.currentServerName}）`},shareData(){const t={icon:location.host+"/error.png",desc:"?",link:location.toString()};return this.equip&&(t.desc=`点击查看【${this.getEquipRarityTitle(this.equip)}】${this.versionInfo}在搞事学园中的图鉴`,t.icon=this.getEquipImg(this.equip.img)),Object.assign(t,this.share)},title(){return this.equip?"分享 "+this.getEquipRarityTitle(this.equip)+this.versionInfo+" 的图鉴":"分享装备"},shareLink(){return this.equip,location.toString()}},methods:{shareBy(t){this.nativeShare.setShareData(this.shareData);try{this.nativeShare.call(t)}catch(e){}}},mounted(){}},pe=de,me=(0,D.A)(pe,ne,ce,!1,null,null,null),he=me.exports,ge=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog",attrs:{id:"data-setting-dialog"}},[t._m(0),e("div",{staticClass:"mdui-dialog-content"},[e("div",{staticClass:"mdui-typo mdui-left"},[e("p",[t._v("修改使用的数据源（默认使用国测合并）")]),e("p",[t._v("注 : 日服部分资源国内可能访问不到")]),t._l(t.sources,(function(i){return e("div",{staticClass:"source mdui-m-b-1"},[e("button",{staticClass:"mdui-btn mdui-shadow-1",attrs:{disabled:t.currentServer===i.type},on:{click:function(e){return t.changeTo(i.type)}}},[t.currentServer===i.type?e("i",{staticClass:"mdui-icon material-icons mdui-text-color-black"},[t._v("chevron_right")]):t._e(),t._v(t._s(i.name)),t.currentServer===i.type?e("i",{staticClass:"mdui-icon material-icons mdui-text-color-black"},[t._v("chevron_left")]):t._e()])])}))],2),e("div",[e("label",{staticClass:"mdui-checkbox",attrs:{"mdui-tooltip":"{content: '勾选后，显示秘境buff等非装备图鉴'}"}},[e("input",{attrs:{type:"checkbox"},domProps:{value:t.showSpecial},on:{change:t.onChangeSpecial}}),e("i",{staticClass:"mdui-checkbox-icon"}),e("span",[t._v("显示特殊关卡图鉴")])])])])])},ve=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdui-dialog-title"},[e("div",{staticClass:"mdui-dialog-title-header"},[t._v("数据源设置")])])}],fe={props:{currentServer:String,dialog:Object,showSpecial:Boolean},data(){return{sources:[{type:"merged",name:"国测合并"},{type:"original",name:"国服"},{type:"beta",name:"测试服"},{type:"jporiginal",name:"日服"},{type:"asia",name:"Asia"}]}},inject:["loadEquips"],methods:{changeTo(t="merged"){this.loadEquips(t),this.dialog&&this.dialog.close&&this.dialog.close()},onChangeSpecial(t){this.$emit("change-show-special",!this.showSpecial)}}},_e=fe,ye=(0,D.A)(_e,ge,ve,!1,null,null,null),Ce=ye.exports;const qe=window.mdui,be=qe.JQ,we={uid:"???",id:"???",title:"未知的装备",desc:"未找到指定的装备#n此错误可能由参数错误或者网络问题导致"};q.init();var ke={name:"app",data(){return{i18n:m,showSpecial:!1,currentTab:"all",searchInput:"",currentServer:"",allEquips:[],allWeapons:[],allCostumes:[],allPassiveSkills:[],allPets:[],detailEquip:{},detailDialog:null,filterDialog:null,shareDialog:null,dataSettingDialog:null,mdui:qe,$$:be,serverNames:{merged:"国测合并",original:"国服",beta:"测试服",jporiginal:"日服",fangcun:"美服"},apiHost:"https://api.redbean.tech",hash:{server:"",uid:""}}},components:{IllustrateHeader:E,IllustrateView:W,IllustrateDetail:Bt,IllustrateFab:Wt,DialogCharacter:Kt,DialogFilter:le,IllustrateShare:he,IllustrateDataSetting:Ce},computed:{currentEquips(){switch(this.currentTab){case"weapon":return this.allWeapons;case"costume":return this.allCostumes;case"passiveSkill":return this.allPassiveSkills;case"pet":return this.allPets;default:return this.allEquips}},searchedEquips(){if(""===this.searchInput)return this.currentEquips;const t=["prop1","prop2","ultraSkill","hiddenUltraSkill","normalSkill1","normalSkill2"];return this.currentEquips.filter((e=>{for(let i of t)if(e[i]&&e[i].maxLvDesc&&e[i].maxLvDesc.includes(this.searchInput))return!0;return e.title.includes(this.searchInput)||e.seriesText&&e.seriesText.includes(this.searchInput)||e.id.includes(this.searchInput)}))},displayEquips(){return this.showSpecial?this.searchedEquips:this.searchedEquips.filter((t=>"0"!==t.id&&t.title&&!t.isCts))},sortedEquips(){const t=Array.from(this.allEquips);return t.sort(((t,e)=>t.uid-e.uid)),t},currentServerName(){return this.serverNames[this.currentServer]}},methods:{isOriginal(){return"jporiginal"!==this.currentServer&&"asia"!==this.currentServer},selectTab(t){this.currentTab=t},search(t){return this.$set(this,"searchInput",t),this.searchedEquips},initEquips(){let t=q.getHash("server");return""===t&&(t=localStorage.getItem("illustrate-server")||"merged"),"string"===typeof t?this.loadEquips(t):this.loadEquips()},async loadEquips(t="merged"){be("#progress").css("opacity",1);let e=t;"asia"===t&&(e="fangcun");try{const{data:i}=await g().get(this.apiHost+"/illustrate/all?server="+e);switch(i.sort(((t,e)=>t.id-e.id)),this.$set(this,"allEquips",i),this.allPets=[],this.allWeapons=[],this.allCostumes=[],this.allPassiveSkills=[],this.allEquips.forEach((t=>{"ultraSkill"in t?this.allPets.push(t):"criticalRate"in t?this.allWeapons.push(t):"hpBase"in t?this.allCostumes.push(t):this.allPassiveSkills.push(t)})),this.currentServer=t,q.setHash("server",t),localStorage.setItem("illustrate-server",t),t){case"jporiginal":this.i18n.config({lang:"jp"});break;case"asia":this.i18n.config({lang:"en"});break;default:this.i18n.config({lang:"cn"})}be("#progress").css("opacity",0)}catch(i){return this.loadEquips()}},findEquipByUid(t){let e=0,i=this.sortedEquips.length-1;while(e<=i){let s=parseInt((e+i)/2);if(!this.sortedEquips[s])return{};let a=t-this.sortedEquips[s].uid;if(a>0)e=s+1;else{if(!(a<0))return 0===a?this.sortedEquips[s]:we;i=s-1}}return we},getEquipRarityTitle(t){return t&&t.title?`${t.title}${t.rarity>0?"("+t.rarity+"★)":""}`:""},showEquipDetail(t){this.detailEquip=this.findEquipByUid(t),this.detailDialog.open(),this.detailEquip.uid&&q.setHash("uid",this.detailEquip.uid),this.$nextTick((()=>{this.detailDialog.handleUpdate()}))},async showInitEquipDetail(t){if(t&&""!==t)try{if(this.allEquips)return this.detailEquip=this.findEquipByUid(t),"opened"!==this.detailDialog.getState()&&this.detailDialog.open(),void this.$nextTick((()=>{this.detailDialog.handleUpdate()}));const e=await g().get(this.apiHost+"/illustrate/uid/"+t);e.data&&(this.detailEquip=e.data),"opened"!==this.detailDialog.getState()&&this.detailDialog.open(),this.$nextTick((()=>{this.detailDialog.handleUpdate()}))}catch(e){}},showCharacterDialog(){new qe.Dialog("#pet-characters",{history:!1}).open()},showFilterDialog(){return this.filterDialog=new qe.Dialog("#filter",{history:!1}),this.filterDialog.open()},changeShowSpecial(t){this.showSpecial=t},showDataSettingDialog(){return this.dataSettingDialog=new qe.Dialog("#data-setting-dialog",{history:!1}),this.dataSettingDialog.open()},changeServer(t){this.currentServerName=t},getEquipImg(t){let e="http://static.image.mihoyo.com/hsod2_webview/images/broadcast_top/equip_icon/png/";return"jporiginal"===this.currentServer&&(e="https://hsod2-webview.s3.amazonaws.com/images/broadcast_top/equip_icon/"),e+(t<1e3?("000"+t).slice(-3):t)+".png"},updateDialog(){this.$nextTick((()=>{this.detailDialog.handleUpdate()}))},shareEquip(){q.lock(),this.shareDialog=new this.mdui.Dialog("#share-dialog",{history:!1}),this.detailDialog.close();const t=this;this.$nextTick((()=>{this.shareDialog.open(),this.mdui.JQ("#share-dialog").one("closed.mdui.dialog",(()=>{t.detailDialog.open(),q.unlock()}))}))}},provide(){return{mdui:this.mdui,$$:this.$$,getEquipImg:this.getEquipImg,showEquipDetail:this.showEquipDetail,getEquipRarityTitle:this.getEquipRarityTitle,loadEquips:this.loadEquips,i18n:this.i18n,isOriginal:this.isOriginal}},async mounted(){this.detailDialog=new this.mdui.Dialog("#detail-dialog",{history:!1});const t=q.getHash("server"),e=q.getHash("uid");this.hash.server=t,this.hash.uid=e,"merged"===t?(e>0&&this.showInitEquipDetail(e),this.initEquips()):(await this.initEquips(t),e>0&&this.showEquipDetail(e)),window.onhashchange=()=>{q.init();const t=q.getHash("server"),e=q.getHash("uid");if(t!==this.hash.server&&(this.initEquips(t),e>0&&this.showInitEquipDetail(e),this.hash.server=t,this.hash.uid=e),e!==this.hash.uid){if(this.hash.uid=e,this.detailEquip&&this.detailEquip.uid===e)return;this.showInitEquipDetail(e)}},this.mdui.JQ("#detail-dialog").on("closed.mdui.dialog",(()=>{document.title="装备图鉴 - 搞事学园",q.setHash("uid","")})),this.mdui.JQ("#detail-dialog").on("open.mdui.dialog",(()=>{document.title=this.getEquipRarityTitle(this.detailEquip)+" 装备图鉴 - 搞事学园"})),window.$useHost=t=>{this.apiHost=t,this.initEquips()}}},Se=ke,De=(0,D.A)(Se,a,r,!1,null,null,null),xe=De.exports;s.Ay.config.productionTip=!1,new s.Ay({render:t=>t(xe)}).$mount("#app")}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,s,a,r){if(!s){var l=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],r=t[u][2];for(var n=!0,c=0;c<s.length;c++)(!1&r||l>=r)&&Object.keys(i.O).every((function(t){return i.O[t](s[c])}))?s.splice(c--,1):(n=!1,r<l&&(l=r));if(n){t.splice(u--,1);var o=a();void 0!==o&&(e=o)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,a,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,r,l=s[0],n=s[1],c=s[2],o=0;if(l.some((function(e){return 0!==t[e]}))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(c)var u=c(i)}for(e&&e(s);o<l.length;o++)r=l[o],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},s=self["webpackChunkillustrate"]=self["webpackChunkillustrate"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],(function(){return i(9223)}));s=i.O(s)})();