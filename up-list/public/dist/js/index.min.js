(()=>{"use strict";function e(){t("#faction-score").classList.add("loading"),(new function(){this.get=function(e,t,r){let n=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){return new ActiveXObject("Msxml2.XMLHTTP.3.0")}}();n.open("GET",e,r),n.onreadystatechange=(()=>{4===n.readyState&&200===n.status&&t(null,n.response)}),n.send(null)}}).get("/worldbattle/20182/last",(e,r)=>{e&&console.error(e);let n=JSON.parse(r);Array.prototype.forEach.call(t(".faction"),(e,r)=>{t(".line",e)[0].innerText=n.top[r],t(".score",e)[0].innerText=n.round[r]||"凉凉"}),t("#faction-score").classList.remove("loading")},!0)}function t(e,t=document){if("string"!=typeof e)throw new Error(`Type Error: ${e} is not a string`);switch(e[0]){case"#":return t.getElementById(e.substring(1));case".":return t.getElementsByClassName(e.substring(1));default:return t.getElementsByTagName(e)}}document.addEventListener("readystatechange",()=>{if("complete"===document.readyState){let r=t("#iframe-container"),n=t("#iframe"),s=t(".page-button");Array.prototype.forEach.call(s,e=>{e.onclick=(e=>{let t=e.target.getAttribute("src");Array.prototype.forEach.call(s,e=>{e.classList.remove("focus")}),e.target.classList.add("focus"),n.src=t,r.style.display="block"})}),t("#iframe-hide").onclick=(e=>{r.style.display="none",n.src="",t(".focus")[0].classList.remove("focus")});let c=t("#fw-refresh");c.onclick=e;let o=t("#toggle-fw");o.onclick=(e=>{t("#faction-body").classList.toggle("hide"),o.innerText="-"===o.innerText?"+":"-"}),c.click(),t("#origin").click()}})})();